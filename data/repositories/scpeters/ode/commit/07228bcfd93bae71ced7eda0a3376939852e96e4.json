{"rendered": {"message": {"raw": "ray-triangle collider correctness fix from Joe Ante <joe@uti.is>\n\noriginal email is:\n---------------------------------------\nHi,\n\nCan someone check this into cvs.\n\nThe fix is actually checking the result of Collider.Collide because with\nsome Opcode Collider settings Opcode returns false but doesn\ufffdt update the\ncache since you are not expected to access the values anyway.\n\n---\n/Users/joachima/Desktop/unity/External/ode/ode/src/collision_trimesh_ray.cpp\nMon Apr 19 23:48:49 2004\n+++\n/Users/joachima/Desktop/Ode/oldode-040513/ode/src/collision_trimesh_ray.cpp\nSun May 16 16:28:24 2004\n@@ -64,12 +64,13 @@\n\n        /* Intersect */\n        Matrix4x4 amatrix;\n-       Collider.Collide(WorldRay, TriMesh->Data->BVTree,\n&MakeMatrix(TLPosition, TLRotation, amatrix));\n+       int TriCount = 0;\n+       if (Collider.Collide(WorldRay, TriMesh->Data->BVTree,\n&MakeMatrix(TLPosition, TLRotation, amatrix)))\n+               TriCount = TriMesh->Faces.GetNbFaces();\n\n-       /* Retrieve data */\n-       int TriCount = TriMesh->Faces.GetNbFaces();\n+       if (TriCount == 0)\n+               return 0;\n\n-       if (TriCount != 0){\n                const CollisionFace* Faces = TriMesh->Faces.GetFaces();\n\n                int OutTriCount = 0;\n@@ -118,6 +119,4 @@\n                        }\n                }\n                return OutTriCount;\n-       }\n-       else return 0;\n }\n\n\nJoe Ante", "markup": "markdown", "html": "<p>ray-triangle collider correctness fix from Joe Ante <a href=\"mailto:joe@uti.is\">&#106;&#111;&#101;&#64;&#117;&#116;&#105;&#46;&#105;&#115;</a></p>\n<h2 id=\"markdown-header-original-email-is\">original email is:</h2>\n<p>Hi,</p>\n<p>Can someone check this into cvs.</p>\n<p>The fix is actually checking the result of Collider.Collide because with<br />\nsome Opcode Collider settings Opcode returns false but doesn\ufffdt update the<br />\ncache since you are not expected to access the values anyway.</p>\n<hr />\n<p>/Users/joachima/Desktop/unity/External/ode/ode/src/collision_trimesh_ray.cpp<br />\nMon Apr 19 23:48:49 2004<br />\n+++<br />\n/Users/joachima/Desktop/Ode/oldode-040513/ode/src/collision_trimesh_ray.cpp<br />\nSun May 16 16:28:24 2004<br />\n@@ -64,12 +64,13 @@</p>\n<div class=\"codehilite\"><pre><span></span>    /* Intersect */\n    Matrix4x4 amatrix;\n</pre></div>\n\n\n<ul>\n<li>Collider.Collide(WorldRay, TriMesh-&gt;Data-&gt;BVTree,<br />\n&amp;MakeMatrix(TLPosition, TLRotation, amatrix));</li>\n<li>int TriCount = 0;</li>\n<li>if (Collider.Collide(WorldRay, TriMesh-&gt;Data-&gt;BVTree,<br />\n&amp;MakeMatrix(TLPosition, TLRotation, amatrix)))</li>\n<li>\n<p>TriCount = TriMesh-&gt;Faces.GetNbFaces();</p>\n</li>\n<li>\n<p>/<em> Retrieve data </em>/</p>\n</li>\n<li>int TriCount = TriMesh-&gt;Faces.GetNbFaces();</li>\n<li>if (TriCount == 0)</li>\n<li>\n<p>return 0;</p>\n</li>\n<li>\n<p>if (TriCount != 0){<br />\n                const CollisionFace* Faces = TriMesh-&gt;Faces.GetFaces();</p>\n<div class=\"codehilite\"><pre><span></span>        int OutTriCount = 0;\n</pre></div>\n\n\n<p>@@ -118,6 +119,4 @@<br />\n                    }<br />\n            }<br />\n            return OutTriCount;<br />\n-       }<br />\n-       else return 0;<br />\n }</p>\n</li>\n</ul>\n<p>Joe Ante</p>", "type": "rendered"}}, "hash": "07228bcfd93bae71ced7eda0a3376939852e96e4", "repository": {"links": {"self": {"href": "data/repositories/scpeters/ode.json"}, "html": {"href": "#!/scpeters/ode"}, "avatar": {"href": "data/bytebucket.org/ravatar/{fa646312-54cc-4063-8d95-218397b3f80c}ts=c_plus_plus"}}, "type": "repository", "name": "ODE", "full_name": "scpeters/ode", "uuid": "{fa646312-54cc-4063-8d95-218397b3f80c}"}, "links": {"self": {"href": "data/repositories/scpeters/ode/commit/07228bcfd93bae71ced7eda0a3376939852e96e4.json"}, "comments": {"href": "data/repositories/scpeters/ode/commit/07228bcfd93bae71ced7eda0a3376939852e96e4/comments_page=1.json"}, "patch": {"href": "https://api.bitbucket.org/2.0/repositories/scpeters/ode/patch/07228bcfd93bae71ced7eda0a3376939852e96e4"}, "html": {"href": "#!/scpeters/ode/commits/07228bcfd93bae71ced7eda0a3376939852e96e4"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/scpeters/ode/diff/07228bcfd93bae71ced7eda0a3376939852e96e4"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/scpeters/ode/commit/07228bcfd93bae71ced7eda0a3376939852e96e4/approve"}, "statuses": {"href": "data/repositories/scpeters/ode/commit/07228bcfd93bae71ced7eda0a3376939852e96e4/statuses_page=1.json"}}, "author": {"raw": "Adam D. Moss", "type": "author"}, "summary": {"raw": "ray-triangle collider correctness fix from Joe Ante <joe@uti.is>\n\noriginal email is:\n---------------------------------------\nHi,\n\nCan someone check this into cvs.\n\nThe fix is actually checking the result of Collider.Collide because with\nsome Opcode Collider settings Opcode returns false but doesn\ufffdt update the\ncache since you are not expected to access the values anyway.\n\n---\n/Users/joachima/Desktop/unity/External/ode/ode/src/collision_trimesh_ray.cpp\nMon Apr 19 23:48:49 2004\n+++\n/Users/joachima/Desktop/Ode/oldode-040513/ode/src/collision_trimesh_ray.cpp\nSun May 16 16:28:24 2004\n@@ -64,12 +64,13 @@\n\n        /* Intersect */\n        Matrix4x4 amatrix;\n-       Collider.Collide(WorldRay, TriMesh->Data->BVTree,\n&MakeMatrix(TLPosition, TLRotation, amatrix));\n+       int TriCount = 0;\n+       if (Collider.Collide(WorldRay, TriMesh->Data->BVTree,\n&MakeMatrix(TLPosition, TLRotation, amatrix)))\n+               TriCount = TriMesh->Faces.GetNbFaces();\n\n-       /* Retrieve data */\n-       int TriCount = TriMesh->Faces.GetNbFaces();\n+       if (TriCount == 0)\n+               return 0;\n\n-       if (TriCount != 0){\n                const CollisionFace* Faces = TriMesh->Faces.GetFaces();\n\n                int OutTriCount = 0;\n@@ -118,6 +119,4 @@\n                        }\n                }\n                return OutTriCount;\n-       }\n-       else return 0;\n }\n\n\nJoe Ante", "markup": "markdown", "html": "<p>ray-triangle collider correctness fix from Joe Ante <a href=\"mailto:joe@uti.is\">&#106;&#111;&#101;&#64;&#117;&#116;&#105;&#46;&#105;&#115;</a></p>\n<h2 id=\"markdown-header-original-email-is\">original email is:</h2>\n<p>Hi,</p>\n<p>Can someone check this into cvs.</p>\n<p>The fix is actually checking the result of Collider.Collide because with<br />\nsome Opcode Collider settings Opcode returns false but doesn\ufffdt update the<br />\ncache since you are not expected to access the values anyway.</p>\n<hr />\n<p>/Users/joachima/Desktop/unity/External/ode/ode/src/collision_trimesh_ray.cpp<br />\nMon Apr 19 23:48:49 2004<br />\n+++<br />\n/Users/joachima/Desktop/Ode/oldode-040513/ode/src/collision_trimesh_ray.cpp<br />\nSun May 16 16:28:24 2004<br />\n@@ -64,12 +64,13 @@</p>\n<div class=\"codehilite\"><pre><span></span>    /* Intersect */\n    Matrix4x4 amatrix;\n</pre></div>\n\n\n<ul>\n<li>Collider.Collide(WorldRay, TriMesh-&gt;Data-&gt;BVTree,<br />\n&amp;MakeMatrix(TLPosition, TLRotation, amatrix));</li>\n<li>int TriCount = 0;</li>\n<li>if (Collider.Collide(WorldRay, TriMesh-&gt;Data-&gt;BVTree,<br />\n&amp;MakeMatrix(TLPosition, TLRotation, amatrix)))</li>\n<li>\n<p>TriCount = TriMesh-&gt;Faces.GetNbFaces();</p>\n</li>\n<li>\n<p>/<em> Retrieve data </em>/</p>\n</li>\n<li>int TriCount = TriMesh-&gt;Faces.GetNbFaces();</li>\n<li>if (TriCount == 0)</li>\n<li>\n<p>return 0;</p>\n</li>\n<li>\n<p>if (TriCount != 0){<br />\n                const CollisionFace* Faces = TriMesh-&gt;Faces.GetFaces();</p>\n<div class=\"codehilite\"><pre><span></span>        int OutTriCount = 0;\n</pre></div>\n\n\n<p>@@ -118,6 +119,4 @@<br />\n                    }<br />\n            }<br />\n            return OutTriCount;<br />\n-       }<br />\n-       else return 0;<br />\n }</p>\n</li>\n</ul>\n<p>Joe Ante</p>", "type": "rendered"}, "participants": [], "parents": [{"hash": "57fe4b3dd322c42223f8a59fcdce882d5f68db82", "type": "commit", "links": {"self": {"href": "data/repositories/scpeters/ode/commit/57fe4b3dd322c42223f8a59fcdce882d5f68db82.json"}, "html": {"href": "#!/scpeters/ode/commits/57fe4b3dd322c42223f8a59fcdce882d5f68db82"}}}], "date": "2004-05-28T15:41:46+00:00", "message": "ray-triangle collider correctness fix from Joe Ante <joe@uti.is>\n\noriginal email is:\n---------------------------------------\nHi,\n\nCan someone check this into cvs.\n\nThe fix is actually checking the result of Collider.Collide because with\nsome Opcode Collider settings Opcode returns false but doesn\ufffdt update the\ncache since you are not expected to access the values anyway.\n\n---\n/Users/joachima/Desktop/unity/External/ode/ode/src/collision_trimesh_ray.cpp\nMon Apr 19 23:48:49 2004\n+++\n/Users/joachima/Desktop/Ode/oldode-040513/ode/src/collision_trimesh_ray.cpp\nSun May 16 16:28:24 2004\n@@ -64,12 +64,13 @@\n\n        /* Intersect */\n        Matrix4x4 amatrix;\n-       Collider.Collide(WorldRay, TriMesh->Data->BVTree,\n&MakeMatrix(TLPosition, TLRotation, amatrix));\n+       int TriCount = 0;\n+       if (Collider.Collide(WorldRay, TriMesh->Data->BVTree,\n&MakeMatrix(TLPosition, TLRotation, amatrix)))\n+               TriCount = TriMesh->Faces.GetNbFaces();\n\n-       /* Retrieve data */\n-       int TriCount = TriMesh->Faces.GetNbFaces();\n+       if (TriCount == 0)\n+               return 0;\n\n-       if (TriCount != 0){\n                const CollisionFace* Faces = TriMesh->Faces.GetFaces();\n\n                int OutTriCount = 0;\n@@ -118,6 +119,4 @@\n                        }\n                }\n                return OutTriCount;\n-       }\n-       else return 0;\n }\n\n\nJoe Ante", "type": "commit", "git_hash": "2116c7956e8f60fdc1e9f3246fd6a14504966ed3", "tags": null, "branches": "ode"}